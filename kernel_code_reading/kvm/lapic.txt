1. vmx_create_vcpu
================================================================================

1.1 kvm_vcpu_init
================================================================================

1.1.1 kvm_arch_vcpu_init
================================================================================

1.1.1.1 kvm_create_lapic
================================================================================

2. vcpu_enter_guest
================================================================================

2.1 kvm_vcpu_reload_apic_access_page
================================================================================

2.1.1 kvm_x86_ops->set_apic_access_page_addr(), vmx_set_apic_access_page_addr
================================================================================

2.2 kvm_cpu_has_injectable_intr
================================================================================

2.2.1 kvm_cpu_has_extint
================================================================================

2.2.1.1 kvm_apic_accept_pic_intr
================================================================================

2.2.2 kvm_apic_has_interrupt
================================================================================

2.3 kvm_x86_ops->enable_irq_window
================================================================================

0. data structure
================================================================================

0.1 kvm_lapic
================================================================================

    kvm_lapic
    +----------------------------------+
    |vcpu                              |
    |    (struct kvm_vcpu*)            |
    +----------------------------------+
    |base_address                      |
    |    (unsigned long)               |
    +----------------------------------+
    |dev                               |
    |    (struct kvm_io_device)        |
    |    +-----------------------------+
    |    |ops                          | = apic_mmio_ops
    |    |   (kvm_io_device_ops*)      |
    +----+-----------------------------+
    |                                  |
    |                                  |
    +----------------------------------+
    |regs                              |
    |    (void*)                       |
    +----------------------------------+
