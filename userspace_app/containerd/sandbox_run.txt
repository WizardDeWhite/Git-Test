1. RunPodSandbox(ctx, r)
================================================================================
config = r.GetConfig()
    m.Config  (PodSandboxConfig)
    id := util.GenerateID()
    metadata := config.GetMetadata()
    name := makeSandboxName(metadata)
    c.sandboxNameIndex.Reserve(name, id)
    sandbox = sandboxstore.NewSandbox(metadata, status)
    image = c.ensureImageExists(ctx, c.config.SandboxImage, config)
    containerdImage = c.toContainerdImage(ctx, *image)
    ociRuntime = c.getSandboxRuntime(config, r.GetRuntimeHandler())

    sandbox.NetNS = netns.NewNetNS()
    sandbox.NetNSPath = sandbox.NetNS.GetPath()
    c.setupPodNetwork(ctx, &sandbox)

1.1 setupPodNetwork(ctx, sandbox)
================================================================================
opts = cniNamespaceOpts(id, config)
result = c.netPlugin.Setup(ctx, id, path, opts) -> libcni.Setup()
for _, network = range c.Networks() -> libcni.Networks()
    network.Attach(ctx, ns) -> Netowrk.Attach()
        CNIConfig.AddNetworkList(ctx, list, rt)
            c.addNetwork(ctx, list.Name, list.CNIVersion, net, result, rt)
                c.ensureExec()
                    c.exec = &invoke.DefaultExec{}
                pluginPath = c.exec.FindInPath(), e.g. /opt/cni/bin/loopback
                newConf, = buildOneConfig(name, cniVersion, net, prevResult, rt), the parameter passed to exec file
                invoke.ExecPluginWithResult(ctx, pluginPath, newConf)
                    RawExec.ExecPlugin()
                        c = exec.CommandContext(ctx, pluginPath)
                        c.Env = environ
                        c.Run()  <- execute the command with parameter

0. Data Struct
================================================================================

0.1 PodSandboxConfig, a structure with protobuf
================================================================================

    PodSandboxConfig
    +----------------------------------------------+
    |Metadata                                      |
    |    (*PodSandboxMetadata)                     |
    |Hostname                                      |
    |    (string)                                  |
    |LogDirectory                                  |
    |    (string)                                  |
    |DnsConfig                                     |
    |    (*DNSConfig)                              |
    |PortMapping                                   |
    |    ([]*PortMapping)                          |
    |Labels                                        |
    |Annotations                                   |
    |    (map[string]string)                       |
    |Linux                                         |
    |    (*LinuxPodSandboxConfig)                  |
    |                                              |
    +----------------------------------------------+

0.2 cni.NamespaceOpts
================================================================================

