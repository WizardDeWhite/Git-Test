1. How to get
================================================================================

1.1 Install from package
================================================================================
yum install fio.x86_64

1.2 Git Repo
================================================================================
https://github.com/axboe/fio.git

./configure
make
make install

2. How it works
================================================================================
https://fio.readthedocs.io/en/latest/fio_doc.html#how-fio-works

fio rely on job file to specify the workload, and one job file contains

    global section
    job section[s]

3. Job File Format
================================================================================
https://fio.readthedocs.io/en/latest/fio_doc.html#job-file-format

[] brackets define the job name
each line defines a parameter of the job

Refer example/ directory for inspiration.

3.1 Some Parameter
================================================================================

cpus_allowed
cpumask

    specify cpu affinity

cpus_allowed_policy

    more detail about cpu affinity: split/shared

numa_mem_policy

    Set this job’s memory policy and corresponding NUMA nodes


4. Some examples
================================================================================

fio:

#iops
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 128 -thread -rw=randread -ioengine=libaio -bs=4k -size=50G -numjobs=1 -runtime=60
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 128 -thread -rw=randwrite -ioengine=libaio -bs=4k -size=50G -numjobs=1 -runtime=60

# 带宽
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 128 -thread -rw=randread -ioengine=libaio -bs=1M -size=50G -numjobs=1 -runtime=60
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 128 -thread -rw=randwrite -ioengine=libaio -bs=1M -size=50G -numjobs=1 -runtime=60

# 延时
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 1 -thread -rw=randread -ioengine=libaio -bs=4k -size=50G -numjobs=1 -runtime=60
fio --name=test -filename=/dev/vdb1 -direct=1 -iodepth 1 -thread -rw=randwrite -ioengine=libaio -bs=4k -size=50G -numjobs=1 -runtime=60
